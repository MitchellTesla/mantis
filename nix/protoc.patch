diff --git a/build.sbt b/build.sbt
index b2562eaf2..7488b19b8 100644
--- a/build.sbt
+++ b/build.sbt
@@ -92,7 +92,7 @@ val root = {
   if (!nixBuild)
     root
   else
-    root.settings(PB.runProtoc in Compile := (args => Process("protoc", args) !))
+    root.settings(PB.runProtoc in Compile := (args => Process("@protobuf@/bin/protoc", args) !))
 }
 
 scalacOptions := Seq(
